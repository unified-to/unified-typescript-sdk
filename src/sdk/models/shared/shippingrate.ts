/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v3";
import { remap as remap$ } from "../../../lib/primitives.js";
import { safeParse } from "../../../lib/schemas.js";
import { Result as SafeParseResult } from "../../types/fp.js";
import { SDKValidationError } from "../errors/sdkvalidationerror.js";
import {
  PropertyShippingRateFromAddress,
  PropertyShippingRateFromAddress$inboundSchema,
  PropertyShippingRateFromAddress$Outbound,
  PropertyShippingRateFromAddress$outboundSchema,
} from "./propertyshippingratefromaddress.js";
import {
  PropertyShippingRateToAddress,
  PropertyShippingRateToAddress$inboundSchema,
  PropertyShippingRateToAddress$Outbound,
  PropertyShippingRateToAddress$outboundSchema,
} from "./propertyshippingratetoaddress.js";
import {
  ShippingPackage,
  ShippingPackage$inboundSchema,
  ShippingPackage$Outbound,
  ShippingPackage$outboundSchema,
} from "./shippingpackage.js";
import {
  ShippingRateRate,
  ShippingRateRate$inboundSchema,
  ShippingRateRate$Outbound,
  ShippingRateRate$outboundSchema,
} from "./shippingraterate.js";

export type ShippingRate = {
  carrierId?: string | undefined;
  currency?: string | undefined;
  /**
   * Origin address
   */
  fromAddress?: PropertyShippingRateFromAddress | undefined;
  id?: string | undefined;
  /**
   * Multiple packages (alternative to package)
   */
  packages?: Array<ShippingPackage> | undefined;
  rates?: Array<ShippingRateRate> | undefined;
  raw?: { [k: string]: any } | undefined;
  shipByAt?: Date | undefined;
  shipmentId?: string | undefined;
  /**
   * Destination address
   */
  toAddress?: PropertyShippingRateToAddress | undefined;
};

/** @internal */
export const ShippingRate$inboundSchema: z.ZodType<
  ShippingRate,
  z.ZodTypeDef,
  unknown
> = z.object({
  carrier_id: z.string().optional(),
  currency: z.string().optional(),
  from_address: PropertyShippingRateFromAddress$inboundSchema.optional(),
  id: z.string().optional(),
  packages: z.array(ShippingPackage$inboundSchema).optional(),
  rates: z.array(ShippingRateRate$inboundSchema).optional(),
  raw: z.record(z.any()).optional(),
  ship_by_at: z.string().datetime({ offset: true }).transform(v => new Date(v))
    .optional(),
  shipment_id: z.string().optional(),
  to_address: PropertyShippingRateToAddress$inboundSchema.optional(),
}).transform((v) => {
  return remap$(v, {
    "carrier_id": "carrierId",
    "from_address": "fromAddress",
    "ship_by_at": "shipByAt",
    "shipment_id": "shipmentId",
    "to_address": "toAddress",
  });
});
/** @internal */
export type ShippingRate$Outbound = {
  carrier_id?: string | undefined;
  currency?: string | undefined;
  from_address?: PropertyShippingRateFromAddress$Outbound | undefined;
  id?: string | undefined;
  packages?: Array<ShippingPackage$Outbound> | undefined;
  rates?: Array<ShippingRateRate$Outbound> | undefined;
  raw?: { [k: string]: any } | undefined;
  ship_by_at?: string | undefined;
  shipment_id?: string | undefined;
  to_address?: PropertyShippingRateToAddress$Outbound | undefined;
};

/** @internal */
export const ShippingRate$outboundSchema: z.ZodType<
  ShippingRate$Outbound,
  z.ZodTypeDef,
  ShippingRate
> = z.object({
  carrierId: z.string().optional(),
  currency: z.string().optional(),
  fromAddress: PropertyShippingRateFromAddress$outboundSchema.optional(),
  id: z.string().optional(),
  packages: z.array(ShippingPackage$outboundSchema).optional(),
  rates: z.array(ShippingRateRate$outboundSchema).optional(),
  raw: z.record(z.any()).optional(),
  shipByAt: z.date().transform(v => v.toISOString()).optional(),
  shipmentId: z.string().optional(),
  toAddress: PropertyShippingRateToAddress$outboundSchema.optional(),
}).transform((v) => {
  return remap$(v, {
    carrierId: "carrier_id",
    fromAddress: "from_address",
    shipByAt: "ship_by_at",
    shipmentId: "shipment_id",
    toAddress: "to_address",
  });
});

export function shippingRateToJSON(shippingRate: ShippingRate): string {
  return JSON.stringify(ShippingRate$outboundSchema.parse(shippingRate));
}
export function shippingRateFromJSON(
  jsonString: string,
): SafeParseResult<ShippingRate, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => ShippingRate$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'ShippingRate' from JSON`,
  );
}
