/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v3";
import { remap as remap$ } from "../../../lib/primitives.js";
import { safeParse } from "../../../lib/schemas.js";
import * as openEnums from "../../types/enums.js";
import { OpenEnum } from "../../types/enums.js";
import { Result as SafeParseResult } from "../../types/fp.js";
import { SDKValidationError } from "../errors/sdkvalidationerror.js";
import {
  ShippingTrackingEvent,
  ShippingTrackingEvent$inboundSchema,
  ShippingTrackingEvent$Outbound,
  ShippingTrackingEvent$outboundSchema,
} from "./shippingtrackingevent.js";

export const ShippingTrackingStatus = {
  Pending: "PENDING",
  Processing: "PROCESSING",
  InTransit: "IN_TRANSIT",
  Delivered: "DELIVERED",
  Exception: "EXCEPTION",
  Cancelled: "CANCELLED",
  LabelCreated: "LABEL_CREATED",
  PickedUp: "PICKED_UP",
  OutForDelivery: "OUT_FOR_DELIVERY",
  DeliveryAttempted: "DELIVERY_ATTEMPTED",
  ReturnedToSender: "RETURNED_TO_SENDER",
  HeldAtLocation: "HELD_AT_LOCATION",
  CustomsClearance: "CUSTOMS_CLEARANCE",
  ExceptionResolved: "EXCEPTION_RESOLVED",
} as const;
export type ShippingTrackingStatus = OpenEnum<typeof ShippingTrackingStatus>;

export type ShippingTracking = {
  actualDeliveryAt?: Date | undefined;
  carrierId?: string | undefined;
  carrierStatusCode?: string | undefined;
  carrierStatusDescription?: string | undefined;
  createdAt?: Date | undefined;
  estimatedDelivery?: Date | undefined;
  /**
   * Array of tracking events
   */
  events?: Array<ShippingTrackingEvent> | undefined;
  id?: string | undefined;
  raw?: { [k: string]: any } | undefined;
  shipmentId?: string | undefined;
  status?: ShippingTrackingStatus | undefined;
  statusDescription?: string | undefined;
  trackingNumber?: string | undefined;
  updatedAt?: Date | undefined;
};

/** @internal */
export const ShippingTrackingStatus$inboundSchema: z.ZodType<
  ShippingTrackingStatus,
  z.ZodTypeDef,
  unknown
> = openEnums.inboundSchema(ShippingTrackingStatus);
/** @internal */
export const ShippingTrackingStatus$outboundSchema: z.ZodType<
  string,
  z.ZodTypeDef,
  ShippingTrackingStatus
> = openEnums.outboundSchema(ShippingTrackingStatus);

/** @internal */
export const ShippingTracking$inboundSchema: z.ZodType<
  ShippingTracking,
  z.ZodTypeDef,
  unknown
> = z.object({
  actual_delivery_at: z.string().datetime({ offset: true }).transform(v =>
    new Date(v)
  ).optional(),
  carrier_id: z.string().optional(),
  carrier_status_code: z.string().optional(),
  carrier_status_description: z.string().optional(),
  created_at: z.string().datetime({ offset: true }).transform(v => new Date(v))
    .optional(),
  estimated_delivery: z.string().datetime({ offset: true }).transform(v =>
    new Date(v)
  ).optional(),
  events: z.array(ShippingTrackingEvent$inboundSchema).optional(),
  id: z.string().optional(),
  raw: z.record(z.any()).optional(),
  shipment_id: z.string().optional(),
  status: ShippingTrackingStatus$inboundSchema.optional(),
  status_description: z.string().optional(),
  tracking_number: z.string().optional(),
  updated_at: z.string().datetime({ offset: true }).transform(v => new Date(v))
    .optional(),
}).transform((v) => {
  return remap$(v, {
    "actual_delivery_at": "actualDeliveryAt",
    "carrier_id": "carrierId",
    "carrier_status_code": "carrierStatusCode",
    "carrier_status_description": "carrierStatusDescription",
    "created_at": "createdAt",
    "estimated_delivery": "estimatedDelivery",
    "shipment_id": "shipmentId",
    "status_description": "statusDescription",
    "tracking_number": "trackingNumber",
    "updated_at": "updatedAt",
  });
});
/** @internal */
export type ShippingTracking$Outbound = {
  actual_delivery_at?: string | undefined;
  carrier_id?: string | undefined;
  carrier_status_code?: string | undefined;
  carrier_status_description?: string | undefined;
  created_at?: string | undefined;
  estimated_delivery?: string | undefined;
  events?: Array<ShippingTrackingEvent$Outbound> | undefined;
  id?: string | undefined;
  raw?: { [k: string]: any } | undefined;
  shipment_id?: string | undefined;
  status?: string | undefined;
  status_description?: string | undefined;
  tracking_number?: string | undefined;
  updated_at?: string | undefined;
};

/** @internal */
export const ShippingTracking$outboundSchema: z.ZodType<
  ShippingTracking$Outbound,
  z.ZodTypeDef,
  ShippingTracking
> = z.object({
  actualDeliveryAt: z.date().transform(v => v.toISOString()).optional(),
  carrierId: z.string().optional(),
  carrierStatusCode: z.string().optional(),
  carrierStatusDescription: z.string().optional(),
  createdAt: z.date().transform(v => v.toISOString()).optional(),
  estimatedDelivery: z.date().transform(v => v.toISOString()).optional(),
  events: z.array(ShippingTrackingEvent$outboundSchema).optional(),
  id: z.string().optional(),
  raw: z.record(z.any()).optional(),
  shipmentId: z.string().optional(),
  status: ShippingTrackingStatus$outboundSchema.optional(),
  statusDescription: z.string().optional(),
  trackingNumber: z.string().optional(),
  updatedAt: z.date().transform(v => v.toISOString()).optional(),
}).transform((v) => {
  return remap$(v, {
    actualDeliveryAt: "actual_delivery_at",
    carrierId: "carrier_id",
    carrierStatusCode: "carrier_status_code",
    carrierStatusDescription: "carrier_status_description",
    createdAt: "created_at",
    estimatedDelivery: "estimated_delivery",
    shipmentId: "shipment_id",
    statusDescription: "status_description",
    trackingNumber: "tracking_number",
    updatedAt: "updated_at",
  });
});

export function shippingTrackingToJSON(
  shippingTracking: ShippingTracking,
): string {
  return JSON.stringify(
    ShippingTracking$outboundSchema.parse(shippingTracking),
  );
}
export function shippingTrackingFromJSON(
  jsonString: string,
): SafeParseResult<ShippingTracking, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => ShippingTracking$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'ShippingTracking' from JSON`,
  );
}
