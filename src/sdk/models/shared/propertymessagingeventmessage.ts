/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v3";
import { remap as remap$ } from "../../../lib/primitives.js";
import { safeParse } from "../../../lib/schemas.js";
import { Result as SafeParseResult } from "../../types/fp.js";
import { SDKValidationError } from "../errors/sdkvalidationerror.js";
import {
  MessagingAttachment,
  MessagingAttachment$inboundSchema,
  MessagingAttachment$Outbound,
  MessagingAttachment$outboundSchema,
} from "./messagingattachment.js";
import {
  MessagingButton,
  MessagingButton$inboundSchema,
  MessagingButton$Outbound,
  MessagingButton$outboundSchema,
} from "./messagingbutton.js";
import {
  MessagingMember,
  MessagingMember$inboundSchema,
  MessagingMember$Outbound,
  MessagingMember$outboundSchema,
} from "./messagingmember.js";
import {
  MessagingReaction,
  MessagingReaction$inboundSchema,
  MessagingReaction$Outbound,
  MessagingReaction$outboundSchema,
} from "./messagingreaction.js";
import {
  MessagingReference,
  MessagingReference$inboundSchema,
  MessagingReference$Outbound,
  MessagingReference$outboundSchema,
} from "./messagingreference.js";
import {
  PropertyMessagingEventMessageAuthorMember,
  PropertyMessagingEventMessageAuthorMember$inboundSchema,
  PropertyMessagingEventMessageAuthorMember$Outbound,
  PropertyMessagingEventMessageAuthorMember$outboundSchema,
} from "./propertymessagingeventmessageauthormember.js";

export type PropertyMessagingEventMessage = {
  attachments?: Array<MessagingAttachment> | undefined;
  /**
   * for email systems, this field represents the From value
   */
  authorMember?: PropertyMessagingEventMessageAuthorMember | undefined;
  buttons?: Array<MessagingButton> | undefined;
  channelId?: string | undefined;
  /**
   * @deprecated; use channels instead
   */
  channelIds?: Array<string> | undefined;
  /**
   * Represents the names of all channels to which the message is sent. Identifies the channels where the message is posted.
   */
  channels?: Array<MessagingReference> | undefined;
  createdAt?: Date | undefined;
  /**
   * for email systems, this field represents the To value
   */
  destinationMembers?: Array<MessagingMember> | undefined;
  hasChildren?: boolean | undefined;
  /**
   * for email systems, this field represents the BCC value
   */
  hiddenMembers?: Array<MessagingMember> | undefined;
  id?: string | undefined;
  isUnread?: boolean | undefined;
  /**
   * for email systems, this field represents the CC value
   */
  mentionedMembers?: Array<MessagingMember> | undefined;
  message?: string | undefined;
  messageHtml?: string | undefined;
  messageMarkdown?: string | undefined;
  messageThreadIdentifier?: string | undefined;
  parentId?: string | undefined;
  parentMessageId?: string | undefined;
  raw?: { [k: string]: any } | undefined;
  reactions?: Array<MessagingReaction> | undefined;
  reference?: string | undefined;
  rootMessageId?: string | undefined;
  subject?: string | undefined;
  updatedAt?: Date | undefined;
  webUrl?: string | undefined;
};

/** @internal */
export const PropertyMessagingEventMessage$inboundSchema: z.ZodType<
  PropertyMessagingEventMessage,
  z.ZodTypeDef,
  unknown
> = z.object({
  attachments: z.array(MessagingAttachment$inboundSchema).optional(),
  author_member: PropertyMessagingEventMessageAuthorMember$inboundSchema
    .optional(),
  buttons: z.array(MessagingButton$inboundSchema).optional(),
  channel_id: z.string().optional(),
  channel_ids: z.array(z.string()).optional(),
  channels: z.array(MessagingReference$inboundSchema).optional(),
  created_at: z.string().datetime({ offset: true }).transform(v => new Date(v))
    .optional(),
  destination_members: z.array(MessagingMember$inboundSchema).optional(),
  has_children: z.boolean().optional(),
  hidden_members: z.array(MessagingMember$inboundSchema).optional(),
  id: z.string().optional(),
  is_unread: z.boolean().optional(),
  mentioned_members: z.array(MessagingMember$inboundSchema).optional(),
  message: z.string().optional(),
  message_html: z.string().optional(),
  message_markdown: z.string().optional(),
  message_thread_identifier: z.string().optional(),
  parent_id: z.string().optional(),
  parent_message_id: z.string().optional(),
  raw: z.record(z.any()).optional(),
  reactions: z.array(MessagingReaction$inboundSchema).optional(),
  reference: z.string().optional(),
  root_message_id: z.string().optional(),
  subject: z.string().optional(),
  updated_at: z.string().datetime({ offset: true }).transform(v => new Date(v))
    .optional(),
  web_url: z.string().optional(),
}).transform((v) => {
  return remap$(v, {
    "author_member": "authorMember",
    "channel_id": "channelId",
    "channel_ids": "channelIds",
    "created_at": "createdAt",
    "destination_members": "destinationMembers",
    "has_children": "hasChildren",
    "hidden_members": "hiddenMembers",
    "is_unread": "isUnread",
    "mentioned_members": "mentionedMembers",
    "message_html": "messageHtml",
    "message_markdown": "messageMarkdown",
    "message_thread_identifier": "messageThreadIdentifier",
    "parent_id": "parentId",
    "parent_message_id": "parentMessageId",
    "root_message_id": "rootMessageId",
    "updated_at": "updatedAt",
    "web_url": "webUrl",
  });
});
/** @internal */
export type PropertyMessagingEventMessage$Outbound = {
  attachments?: Array<MessagingAttachment$Outbound> | undefined;
  author_member?:
    | PropertyMessagingEventMessageAuthorMember$Outbound
    | undefined;
  buttons?: Array<MessagingButton$Outbound> | undefined;
  channel_id?: string | undefined;
  channel_ids?: Array<string> | undefined;
  channels?: Array<MessagingReference$Outbound> | undefined;
  created_at?: string | undefined;
  destination_members?: Array<MessagingMember$Outbound> | undefined;
  has_children?: boolean | undefined;
  hidden_members?: Array<MessagingMember$Outbound> | undefined;
  id?: string | undefined;
  is_unread?: boolean | undefined;
  mentioned_members?: Array<MessagingMember$Outbound> | undefined;
  message?: string | undefined;
  message_html?: string | undefined;
  message_markdown?: string | undefined;
  message_thread_identifier?: string | undefined;
  parent_id?: string | undefined;
  parent_message_id?: string | undefined;
  raw?: { [k: string]: any } | undefined;
  reactions?: Array<MessagingReaction$Outbound> | undefined;
  reference?: string | undefined;
  root_message_id?: string | undefined;
  subject?: string | undefined;
  updated_at?: string | undefined;
  web_url?: string | undefined;
};

/** @internal */
export const PropertyMessagingEventMessage$outboundSchema: z.ZodType<
  PropertyMessagingEventMessage$Outbound,
  z.ZodTypeDef,
  PropertyMessagingEventMessage
> = z.object({
  attachments: z.array(MessagingAttachment$outboundSchema).optional(),
  authorMember: PropertyMessagingEventMessageAuthorMember$outboundSchema
    .optional(),
  buttons: z.array(MessagingButton$outboundSchema).optional(),
  channelId: z.string().optional(),
  channelIds: z.array(z.string()).optional(),
  channels: z.array(MessagingReference$outboundSchema).optional(),
  createdAt: z.date().transform(v => v.toISOString()).optional(),
  destinationMembers: z.array(MessagingMember$outboundSchema).optional(),
  hasChildren: z.boolean().optional(),
  hiddenMembers: z.array(MessagingMember$outboundSchema).optional(),
  id: z.string().optional(),
  isUnread: z.boolean().optional(),
  mentionedMembers: z.array(MessagingMember$outboundSchema).optional(),
  message: z.string().optional(),
  messageHtml: z.string().optional(),
  messageMarkdown: z.string().optional(),
  messageThreadIdentifier: z.string().optional(),
  parentId: z.string().optional(),
  parentMessageId: z.string().optional(),
  raw: z.record(z.any()).optional(),
  reactions: z.array(MessagingReaction$outboundSchema).optional(),
  reference: z.string().optional(),
  rootMessageId: z.string().optional(),
  subject: z.string().optional(),
  updatedAt: z.date().transform(v => v.toISOString()).optional(),
  webUrl: z.string().optional(),
}).transform((v) => {
  return remap$(v, {
    authorMember: "author_member",
    channelId: "channel_id",
    channelIds: "channel_ids",
    createdAt: "created_at",
    destinationMembers: "destination_members",
    hasChildren: "has_children",
    hiddenMembers: "hidden_members",
    isUnread: "is_unread",
    mentionedMembers: "mentioned_members",
    messageHtml: "message_html",
    messageMarkdown: "message_markdown",
    messageThreadIdentifier: "message_thread_identifier",
    parentId: "parent_id",
    parentMessageId: "parent_message_id",
    rootMessageId: "root_message_id",
    updatedAt: "updated_at",
    webUrl: "web_url",
  });
});

export function propertyMessagingEventMessageToJSON(
  propertyMessagingEventMessage: PropertyMessagingEventMessage,
): string {
  return JSON.stringify(
    PropertyMessagingEventMessage$outboundSchema.parse(
      propertyMessagingEventMessage,
    ),
  );
}
export function propertyMessagingEventMessageFromJSON(
  jsonString: string,
): SafeParseResult<PropertyMessagingEventMessage, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => PropertyMessagingEventMessage$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'PropertyMessagingEventMessage' from JSON`,
  );
}
